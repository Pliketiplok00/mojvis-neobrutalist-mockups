# Known Limitations

**Date:** 2026-01-08
**Phase:** 8 Verification Run

---

## Test Coverage Gaps

### 1. Admin UI Playwright Tests - Selector Mismatch

**Status:** 13/28 tests FAILED

**Root Cause:** Playwright tests use generic CSS selectors that don't match the actual Admin UI component structure.

**Failing Tests:**
- Feedback UI: 4 tests (list, detail, status, reply)
- Inbox CRUD: 5 tests (list, new form, create, edit, delete)
- Inbox HITNO Lock: 1 test (locked state)
- Click-Fix: 1 test (detail navigation)
- Pages: 2 tests (editor, block placeholder)

**Fix Required:** Add `data-testid` attributes to Admin UI components and update Playwright selectors.

---

### 2. Mobile Runtime Error - InboxDetailScreen

**Status:** FAIL

**Error:** `TypeError: message.tags.filter is not a function (it is undefined)`

**Location:** `InboxDetailScreen` component

**Root Cause:** The `message.tags` field is undefined when the component tries to call `.filter()` on it. Either:
1. API returns `tags: null` instead of `tags: []`
2. Component doesn't handle undefined/null tags

**Impact:** InboxDetail screen crashes when viewing messages without tags.

**Fix Required:** Either:
- Backend: Ensure `tags` is always an array (never null)
- Mobile: Add defensive check: `(message.tags ?? []).filter(...)`

---

### 3. Push Notifications - Simulator Limitation

**Status:** EXPECTED

**Message:** `[Push] Push notifications require a physical device`

**Impact:** Cannot test actual push notification delivery on iOS Simulator.

**Workaround:** MockExpoPushProvider verifies push flow at API level.

---

## Untested Scenarios

### Authentication
- No authentication flow exists yet
- Admin UI tests skip login
- No role-based access control testing

### Visual Regression
- No visual regression testing configured
- UI changes not automatically caught

### Performance
- No load testing
- No bundle size verification
- No API response time benchmarks

### Accessibility
- No a11y testing
- No screen reader verification
- No color contrast validation

### Offline Mode
- No offline data persistence testing
- No network failure handling verification

### Internationalization
- Croatian (HR) primary tested
- English (EN) not systematically tested

---

## Infrastructure Gaps

### CI/CD
- No automated test pipeline configured
- Tests must be run manually

### Test Data
- Tests create own data via API
- No database seeding automation
- No test data cleanup after runs

### Mobile E2E
- No Detox/Appium configured
- Cannot automate full mobile UI flows
- Manual testing required for complex interactions

---

## API Coverage Gaps

### Endpoints Not Tested
- `PATCH /admin/pages/:id/draft` - Returns 404 (not implemented)
- No batch operations tested
- No pagination edge cases tested

### Error Scenarios
- Rate limiting (3/day feedback) - verified by code review only
- Large file upload limits not tested
- Concurrent write conflicts not tested

---

## Summary

| Category | Status | Notes |
|----------|--------|-------|
| Backend API | PASS | 40/40 tests pass |
| Admin Navigation | PASS | 8/8 tests pass |
| Admin CRUD | FAIL | Selector mismatch (13 tests) |
| Mobile TypeScript | PASS | 0 errors |
| Mobile Deep Link | PASS | 5/5 tests pass |
| Mobile iOS Build | PASS | Builds and installs |
| Mobile Runtime | FAIL | InboxDetailScreen crash |
| Push Notifications | N/A | Requires physical device |

---

**Next Actions:**

1. Fix `message.tags` handling in InboxDetailScreen
2. Add `data-testid` attributes to Admin UI
3. Update Playwright selectors to use data-testid
4. Re-run tests after fixes

---

*Generated by Phase 8 verification*
